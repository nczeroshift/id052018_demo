<html>
    <head>
        <script type="text/javascript" src="jquery.min.js"></script>
        <script type="text/javascript" src="scenes/utils.js"></script>
        <script type="text/javascript" src="three.min.js"></script>
        <script type="text/javascript" src="scenes/demo.js"></script>
        <script type="text/javascript" src="scenes/scene.js"></script>
        <script type="text/javascript" src="scenes/scene_color.js"></script>
        <script type="text/javascript" src="scenes/scene_amiga.js"></script>
        <script type="text/javascript" src="scenes/scene_dont_forget.js"></script>
        <script type="text/javascript" src="scenes/scene_shader.js"></script>
        <script type="text/javascript" src="scenes/scene_text.js"></script>
        <script type="text/javascript" src="scenes/scene_pic.js"></script>

        <style type="text/css">
            body{
                background-color:#000;
                padding:0;
                margin:0;
            }

            canvas{
                border:1px solid #FFFFFF;
            }

            #aplayer{
                display:none;
            }
        </style>
        
    </head>
    <body>
        <canvas width="640" height="320" style="width: 640px; height: 320px;"></canvas>
        <audio controls id="aplayer">
            <source src="audio/megademo1.ogg" type="audio/ogg">
        </audio>
    </body>
    <script type="text/javascript">
    
        

        $(function(){
            var canvas = $("canvas");
            var demo = new Demo(canvas);

            demo.init(function(d){
                var text1 = new SceneText(d,"BASS\n2005 meme",50);
                text1.setOrder(1000);
                text1.setPosition(function(text,time){
                    text.position.x = 40*Math.sin(time*2);
                    text.position.y = 40*Math.cos(time*2);
                });

                d.addScene(text1, 0,100);

                var c1 = new SceneColor(d, new THREE.Color(0x000000),new THREE.Color(0x999999),1.0,1.0);
                d.addScene(c1, 0,4);

                var c2 = new SceneColor(d, new THREE.Color(0x999999),new THREE.Color(0x999999),1.0,0.0);
                c2.setOrder(100);
                d.addScene(c2, 4,5);

                
                var amiga = new SceneAmiga(d);
                amiga.setOrder(999);
                d.addScene(amiga, 4,34);
             
                var e1 = new SceneShader(d,"effect1");
                d.addScene(e1, 4,10);
               
                var p1 = new ScenePicture(d,"textures/fernando_pessoa.jpg",10,10);
                d.addScene(p1, 4,10);

                var e2 = new SceneShader(d,"effect2");
                d.addScene(e2, 10,16);

                var e3 = new SceneShader(d,"effect3");
                d.addScene(e3, 16,22);

                var e4 = new SceneShader(d,"effect4");
                d.addScene(e4, 22,28);

                var e5 = new SceneShader(d,"effect5");
                d.addScene(e5, 28,34);
              
                var c2 = new SceneColor(d, new THREE.Color(0x999999),new THREE.Color(0x000000));
                d.addScene(c2, 35, 36);

                var dontforget = new SceneDontForget(d);
                d.addScene(dontforget,36,65);
            
                d.launchReadyTimer(function(){
                    d.start();   
                    //$("#aplayer")[0].play() 
                })
            });
            
        });
    </script>
</html>